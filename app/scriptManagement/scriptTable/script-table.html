<p-dataTable [value]="records" selectionMode="multiple" [(selection)]="selectedRecords" [rows]="20" [paginator]="true"
             [lazy]="true" [totalRecords]="totalRecords" (onLazyLoad)="loadRecordLazy($event)">
    <header>
      <div class="ui-helper-clearfix">
        <button pButton type="button" (click)="onAddRecord()" label="上传脚本" style="float:left"></button>
        <button pButton type="button" (click)="onDeleteRecord()" label="生成测试案例" style="float:left"></button>
        <button pButton type="button" (click)="onDeleteRecord()" label="删除脚本" style="float:left"></button>
      </div>
    </header>
    <p-column field="name" header="测试脚本" [filter]="true"></p-column>
    <p-column field="appName" header="应用" [filter]="true"></p-column>
    <p-column field="appVersion" header="应用版本" [filter]="true"></p-column>
    <p-column field="createDate" header="上传时间" [filter]="true"></p-column>
    <p-column field="userName" header="上传者" [filter]="true"></p-column>
    <p-column header="操作" styleClass="col-button">
      <template let-car="rowData">
        <button type="button" pButton (click)="selectRecord(record)" icon="fa-search"></button>
      </template>
    </p-column>
</p-dataTable>

<p-dialog header="上传测试脚本" [(visible)]="display" [modal]="modal">
  <script-upload-form></script-upload-form>
</p-dialog>

<script-editor></script-editor>

<p-dialog header="生成案例" [(visible)]="display" [modal]="modal">
  <new-case-list [selectedRecords]="selectedRecords"></new-case-list>
</p-dialog>
<new-case-list [selectedRecords]="selectedRecords"></new-case-list>
